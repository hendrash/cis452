http://www.cs.tufts.edu/comp/111/examples/Locks/semop.c